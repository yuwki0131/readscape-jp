

# 1.1 一般消費者向けAPI

## 概要
一般消費者がReadscape-JPサイトを利用するための各種API機能を提供します。

## 書籍閲覧API

### エンドポイント
- `GET /api/books` - 書籍一覧取得
- `GET /api/books/{id}` - 書籍詳細取得
- `GET /api/books/search` - 書籍検索

### 実装要件
- カテゴリー別フィルタリング機能
- キーワード検索（タイトル、著者名対応）
- ページネーション対応
- レスポンス時間最適化

### データ構造
- BookSummary: 一覧表示用の書籍サマリ情報
- BookDetail: 詳細表示用の書籍完全情報

## ショッピング機能API

### エンドポイント
- `GET /api/cart` - カート内容取得
- `POST /api/cart` - カートに書籍追加
- `PUT /api/cart/{bookId}` - カート内書籍数量変更
- `DELETE /api/cart/{bookId}` - カートから書籍削除
- `POST /api/orders` - 注文作成

### 実装要件
- セッション管理によるカート状態保持
- 在庫数チェック機能
- 価格計算ロジック
- 注文確定処理

## ユーザー機能API

### エンドポイント
- `POST /api/users/register` - ユーザー登録
- `POST /api/users/login` - ログイン
- `GET /api/users/profile` - プロフィール取得
- `PUT /api/users/profile` - プロフィール更新
- `GET /api/users/orders` - 注文履歴取得

### 実装要件
- 入力バリデーション（メール形式、パスワード強度）
- パスワードハッシュ化
- セッション管理
- 個人情報保護対応

## レビュー機能API

### エンドポイント
- `GET /api/books/{bookId}/reviews` - レビュー一覧取得
- `POST /api/books/{bookId}/reviews` - レビュー投稿

### 実装要件
- 5段階評価システム
- レビュー投稿権限制御（購入者のみ）
- スパム対策機能
- 平均評価計算

## 技術仕様
- フレームワーク: Spring Boot 3.x
- データベース連携: Spring Data JPA
- セキュリティ: Spring Security + JWT
- バリデーション: Bean Validation
- ドキュメント: OpenAPI 3.0